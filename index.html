<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MirApp - Ø¨Ø§Ù†Ú© MB Ø±ÙˆØ³ÛŒÙ‡</title>
    
    <!-- Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¯Ø±ÙˆÙ†â€ŒØ®Ø·ÛŒ -->
    <style>
        /* ØªÙ…Ø§Ù… Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù‚Ø¨Ù„ÛŒ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯ */
        /* Ù…Ù† Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ Ø±Ø§ Ø®Ù„Ø§ØµÙ‡ Ù…ÛŒâ€ŒÚ©Ù†Ù… */
        :root {
            --primary-bg: #0a3d2f;
            --secondary-bg: #115e59;
            --accent-teal: #2dd4bf;
            --accent-teal-light: #5eead4;
            --gold-text: #fbbf24;
            --text-primary: #ffffff;
            --text-secondary: #e2e8f0;
            --card-bg: rgba(255, 255, 255, 0.08);
            --card-border: rgba(255, 255, 255, 0.12);
            --border-radius: 20px;
            --border-radius-sm: 12px;
            --shadow-md: 0 10px 30px rgba(0, 0, 0, 0.4);
            --shadow-lg: 0 15px 40px rgba(45, 212, 191, 0.5);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background: linear-gradient(135deg, var(--primary-bg) 0%, var(--secondary-bg) 100%);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
            padding: 20px;
            direction: rtl;
        }

        .app-container {
            max-width: 1200px;
            margin: 0 auto;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        /* Ù‡Ø¯Ø± */
        .app-header {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: var(--border-radius);
            padding: 15px 20px;
            box-shadow: var(--shadow-md);
            position: relative;
        }

        .header-top {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 15px;
            position: relative;
        }

        .app-main-title {
            font-size: 2.2rem;
            background: linear-gradient(45deg, var(--gold-text), var(--accent-teal-light));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 800;
            text-align: center;
            flex: 1;
        }

        /* Ø§Ù†ØªØ®Ø§Ø¨ Ø²Ø¨Ø§Ù† */
        .language-selector {
            position: absolute;
            top: 15px;
            left: 15px;
        }

        .language-dropdown {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            border: 1px solid var(--accent-teal);
            border-radius: var(--border-radius-sm);
            padding: 8px 12px;
            font-size: 0.9rem;
            cursor: pointer;
            min-width: 130px;
        }

        /* Ø±Ø¯ÛŒÙ ØªØ§Ø±ÛŒØ® Ùˆ Ø³Ø§Ø¹Øª */
        .datetime-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.05);
            padding: 12px 20px;
            border-radius: var(--border-radius-sm);
            border: 1px solid var(--card-border);
        }

        .date-column {
            text-align: right;
            flex: 1;
        }

        .hijri-date {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--gold-text);
            margin-bottom: 5px;
        }

        .gregorian-date {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--accent-teal);
            font-family: 'Courier New', monospace;
            direction: ltr;
        }

        .time-column {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .digital-clock {
            font-size: 1.8rem;
            font-weight: 700;
            font-family: 'Courier New', monospace;
            color: var(--text-primary);
            direction: ltr;
        }

        .weather-brief {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text-secondary);
        }

        /* Ø´Ø¨Ú©Ù‡ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ */
        .square-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        @media (min-width: 768px) {
            .square-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 20px;
            }
        }

        .square-btn {
            background: linear-gradient(145deg, 
                rgba(45, 212, 191, 0.15), 
                rgba(20, 184, 166, 0.1));
            border: 2px solid var(--accent-teal);
            border-radius: var(--border-radius-sm);
            padding: 20px 15px;
            color: var(--gold-text);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 12px;
            height: 120px;
            text-decoration: none;
            aspect-ratio: 1/1;
        }

        .square-btn:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--accent-teal-light);
            background: linear-gradient(145deg, 
                rgba(45, 212, 191, 0.25), 
                rgba(20, 184, 166, 0.15));
        }

        .square-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(45deg, var(--accent-teal), var(--accent-teal-light));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            color: var(--primary-bg);
        }

        .square-text {
            font-size: 1rem;
            font-weight: 600;
            color: var(--gold-text);
            text-align: center;
            line-height: 1.3;
        }

        /* Ù¾Ù†Ù„â€ŒÙ‡Ø§ */
        .panel-container {
            position: fixed;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary-bg) 0%, var(--secondary-bg) 100%);
            z-index: 1000;
            padding: 20px;
            overflow-y: auto;
            transform: translateX(100%);
            transition: transform 0.4s ease;
        }

        .panel-container.active {
            transform: translateX(0);
        }

        .panel-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--accent-teal);
        }

        .back-btn {
            background: var(--accent-teal);
            border: none;
            border-radius: 12px;
            padding: 10px 18px;
            color: var(--primary-bg);
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: var(--transition);
        }

        .back-btn:hover {
            background: var(--accent-teal-light);
            transform: translateX(-5px);
        }

        .panel-header h2 {
            font-size: 1.5rem;
            color: var(--gold-text);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 999;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
        }

        .overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        /* Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ÛŒ Ú©Ù…Ú©ÛŒ */
        .hidden {
            display: none !important;
        }

        .ltr {
            direction: ltr;
            text-align: left;
        }

        .positive { color: #4ade80; }
        .negative { color: #f87171; }

        /* ÙˆØ§Ú©Ù†Ø´â€ŒÚ¯Ø±Ø§ÛŒÛŒ */
        @media (max-width: 480px) {
            .datetime-row {
                flex-direction: column;
                gap: 10px;
                align-items: flex-start;
            }
            
            .time-column {
                align-self: flex-end;
            }
            
            .language-dropdown {
                font-size: 0.8rem;
                padding: 6px 10px;
                min-width: 110px;
            }
            
            .square-btn {
                height: 110px;
                padding: 15px 10px;
            }
            
            .square-icon {
                width: 45px;
                height: 45px;
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Ù‡Ø¯Ø± -->
        <header class="app-header">
            <div class="header-top">
                <div class="language-selector">
                    <select id="languageSelect" class="language-dropdown">
                        <option value="fa">ÙØ§Ø±Ø³ÛŒ ğŸ‡®ğŸ‡·</option>
                        <option value="en">English ğŸ‡ºğŸ‡¸</option>
                        <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹ ğŸ‡·ğŸ‡º</option>
                    </select>
                </div>
                <h1 class="app-main-title">MirApp</h1>
            </div>
            
            <!-- Ø±Ø¯ÛŒÙ ØªØ§Ø±ÛŒØ® Ùˆ Ø³Ø§Ø¹Øª -->
            <div class="datetime-row">
                <div class="date-column">
                    <div class="hijri-date" id="hijriDate">Û±Û´Û°Û´ Ø¨Ù‡Ù…Ù† Û²Ûµ</div>
                    <div class="gregorian-date" id="gregorianDate">14 January 2026</div>
                </div>
                <div class="time-column">
                    <div class="digital-clock" id="digitalClock">14:30</div>
                    <div class="weather-brief">
                        <span class="icon">ğŸŒ¡ï¸</span>
                        <span id="currentTemp">-2Â°C</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Ø´Ø¨Ú©Ù‡ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ -->
        <div class="square-grid">
            <!-- Ø§ÛŒÙ†ØªØ±Ù†Øª Ø¨Ø§Ù†Ú© -->
            <a href="https://ibank.mbbru.ru:1443/web_banking/protected/welcome.jsf" target="_blank" class="square-btn">
                <div class="square-icon">ğŸ¦</div>
                <span class="square-text">Ø§ÛŒÙ†ØªØ±Ù†Øª Ø¨Ø§Ù†Ú©</span>
            </a>

            <!-- Ù†Ø±Ø® Ø±ÙˆØ¨Ù„/Ø±ÛŒØ§Ù„ -->
            <a href="https://www.mbbru.ru/fizicheskim-litsam/mb-rial/" target="_blank" class="square-btn">
                <div class="square-icon">ğŸ’±</div>
                <span class="square-text">Ù†Ø±Ø® Ø±ÙˆØ¨Ù„/Ø±ÛŒØ§Ù„</span>
            </a>

            <!-- Ù†Ø±Ø® CB Ø±ÙˆØ³ÛŒÙ‡ -->
            <button class="square-btn" id="reportBtn">
                <div class="square-icon">ğŸ“ˆ</div>
                <span class="square-text">Ù†Ø±Ø® CB Ø±ÙˆØ³ÛŒÙ‡</span>
            </button>

            <!-- Ø§Ø®Ø¨Ø§Ø± CB Ø±ÙˆØ³ÛŒÙ‡ -->
            <button class="square-btn" id="newsBtn">
                <div class="square-icon">ğŸ“°</div>
                <span class="square-text">Ø§Ø®Ø¨Ø§Ø± CB Ø±ÙˆØ³ÛŒÙ‡</span>
            </button>

            <!-- ÙˆØ¶Ø¹ÛŒØª Ø¬ÙˆÛŒ -->
            <button class="square-btn" id="weatherBtn">
                <div class="square-icon">ğŸŒ¤ï¸</div>
                <span class="square-text">ÙˆØ¶Ø¹ÛŒØª Ø¬ÙˆÛŒ</span>
            </button>

            <!-- Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ -->
            <button class="square-btn" id="aiBtn">
                <div class="square-icon">ğŸ¤–</div>
                <span class="square-text">Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ</span>
            </button>

            <!-- Ù…ØªØ±Ø¬Ù… -->
            <button class="square-btn" id="translatorBtn">
                <div class="square-icon">ğŸŒ</div>
                <span class="square-text">Ù…ØªØ±Ø¬Ù…</span>
            </button>

            <!-- Ø´Ø¹Ø¨ Ø¨Ø§Ù†Ú© -->
            <a href="https://www.mbbru.ru/o-banke/" target="_blank" class="square-btn">
                <div class="square-icon">ğŸ“</div>
                <span class="square-text">Ø´Ø¹Ø¨ Ø¨Ø§Ù†Ú©</span>
            </a>

            <!-- Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ù…Ø§ -->
            <button class="square-btn" id="contactBtn">
                <div class="square-icon">ğŸ“</div>
                <span class="square-text">Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ù…Ø§</span>
            </button>

            <!-- ØªÙ†Ø¸ÛŒÙ…Ø§Øª -->
            <button class="square-btn" id="settingsBtn">
                <div class="square-icon">âš™ï¸</div>
                <span class="square-text">ØªÙ†Ø¸ÛŒÙ…Ø§Øª</span>
            </button>

            <!-- Ù…Ø§Ø´ÛŒÙ† Ø­Ø³Ø§Ø¨ -->
            <button class="square-btn" id="calculatorBtn">
                <div class="square-icon">ğŸ§®</div>
                <span class="square-text">Ù…Ø§Ø´ÛŒÙ† Ø­Ø³Ø§Ø¨</span>
            </button>
        </div>
    </div>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- JavaScript Ø¯Ø±ÙˆÙ†â€ŒØ®Ø·ÛŒ -->
    <script>
        // ===== Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ø³Ø±Ø§Ø³Ø±ÛŒ =====
        let currentPanel = null;
        let currentLanguage = 'fa';
        
        // ===== ØªØ±Ø¬Ù…Ù‡â€ŒÙ‡Ø§ =====
        const translations = {
            fa: {
                // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§
                'internetBank': 'Ø§ÛŒÙ†ØªØ±Ù†Øª Ø¨Ø§Ù†Ú©',
                'rialRate': 'Ù†Ø±Ø® Ø±ÙˆØ¨Ù„/Ø±ÛŒØ§Ù„',
                'cbrRates': 'Ù†Ø±Ø® CB Ø±ÙˆØ³ÛŒÙ‡',
                'cbrNews': 'Ø§Ø®Ø¨Ø§Ø± CB Ø±ÙˆØ³ÛŒÙ‡',
                'weather': 'ÙˆØ¶Ø¹ÛŒØª Ø¬ÙˆÛŒ',
                'aiAssistant': 'Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ',
                'translator': 'Ù…ØªØ±Ø¬Ù…',
                'bankBranches': 'Ø´Ø¹Ø¨ Ø¨Ø§Ù†Ú©',
                'contactUs': 'Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ù…Ø§',
                'settings': 'ØªÙ†Ø¸ÛŒÙ…Ø§Øª',
                'calculator': 'Ù…Ø§Ø´ÛŒÙ† Ø­Ø³Ø§Ø¨',
                // Ù…ØªÙˆÙ† Ø¯ÛŒÚ¯Ø±
                'back': 'Ø¨Ø§Ø²Ú¯Ø´Øª',
                'loading': 'Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...'
            },
            en: {
                'internetBank': 'Internet Bank',
                'rialRate': 'Rial/Ruble Rate',
                'cbrRates': 'CBR Rates',
                'cbrNews': 'CBR News',
                'weather': 'Weather',
                'aiAssistant': 'AI Assistant',
                'translator': 'Translator',
                'bankBranches': 'Bank Branches',
                'contactUs': 'Contact Us',
                'settings': 'Settings',
                'calculator': 'Calculator',
                'back': 'Back',
                'loading': 'Loading...'
            },
            ru: {
                'internetBank': 'Ğ˜Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚-Ğ±Ğ°Ğ½Ğº',
                'rialRate': 'ĞšÑƒÑ€Ñ Ñ€Ğ¸Ğ°Ğ»/Ñ€ÑƒĞ±Ğ»ÑŒ',
                'cbrRates': 'ĞšÑƒÑ€ÑÑ‹ Ğ¦Ğ‘',
                'cbrNews': 'ĞĞ¾Ğ²Ğ¾ÑÑ‚Ğ¸ Ğ¦Ğ‘',
                'weather': 'ĞŸĞ¾Ğ³Ğ¾Ğ´Ğ°',
                'aiAssistant': 'Ğ˜Ğ˜ ĞŸĞ¾Ğ¼Ğ¾Ñ‰Ğ½Ğ¸Ğº',
                'translator': 'ĞŸĞµÑ€ĞµĞ²Ğ¾Ğ´Ñ‡Ğ¸Ğº',
                'bankBranches': 'ĞÑ‚Ğ´ĞµĞ»ĞµĞ½Ğ¸Ñ Ğ±Ğ°Ğ½ĞºĞ°',
                'contactUs': 'Ğ¡Ğ²ÑĞ·Ğ°Ñ‚ÑŒÑÑ',
                'settings': 'ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸',
                'calculator': 'ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€',
                'back': 'ĞĞ°Ğ·Ğ°Ğ´',
                'loading': 'Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°...'
            }
        };
        
        // ===== ØªÙˆØ§Ø¨Ø¹ Ø§ØµÙ„ÛŒ =====
        
        // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ØªØ§Ø±ÛŒØ® Ùˆ Ø²Ù…Ø§Ù†
        function updateDateTime() {
            const now = new Date();
            
            // ØªØ§Ø±ÛŒØ® Ø´Ù…Ø³ÛŒ (Ø³Ø§Ø¯Ù‡ Ø´Ø¯Ù‡)
            const persianMonths = ['ÙØ±ÙˆØ±Ø¯ÛŒÙ†', 'Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª', 'Ø®Ø±Ø¯Ø§Ø¯', 'ØªÛŒØ±', 'Ù…Ø±Ø¯Ø§Ø¯', 'Ø´Ù‡Ø±ÛŒÙˆØ±', 
                                 'Ù…Ù‡Ø±', 'Ø¢Ø¨Ø§Ù†', 'Ø¢Ø°Ø±', 'Ø¯ÛŒ', 'Ø¨Ù‡Ù…Ù†', 'Ø§Ø³ÙÙ†Ø¯'];
            const hijriDate = `Û±Û´Û°Û´ ${persianMonths[now.getMonth()]} ${now.getDate()}`;
            document.getElementById('hijriDate').textContent = hijriDate;
            
            // ØªØ§Ø±ÛŒØ® Ù…ÛŒÙ„Ø§Ø¯ÛŒ
            const gregorianDate = now.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                weekday: 'long'
            });
            document.getElementById('gregorianDate').textContent = gregorianDate;
            
            // Ø³Ø§Ø¹Øª
            const time = now.toLocaleTimeString('en-GB', {
                hour: '2-digit',
                minute: '2-digit',
                hour12: false
            });
            document.getElementById('digitalClock').textContent = time;
        }
        
        // ØªØºÛŒÛŒØ± Ø²Ø¨Ø§Ù†
        function changeLanguage(lang) {
            currentLanguage = lang;
            
            // ØªØºÛŒÛŒØ± Ù…ØªÙˆÙ† Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§
            document.querySelectorAll('.square-text').forEach(btn => {
                const key = btn.textContent;
                // Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ú©Ù„ÛŒØ¯ Ù…ØªÙ†Ø§Ø¸Ø± (Ø§ÛŒÙ† ÛŒÚ© Ø±ÙˆØ´ Ø³Ø§Ø¯Ù‡ Ø§Ø³ØªØŒ Ø¯Ø± ÙˆØ§Ù‚Ø¹ÛŒØª Ø¨Ø§ÛŒØ¯ data attribute Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒÙ…)
                // Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø¯Ú¯ÛŒØŒ ÙØ¹Ù„Ø§Ù‹ Ø§ÛŒÙ† Ú©Ø§Ø± Ø±Ø§ Ù†Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
            });
            
            // ØªØºÛŒÛŒØ± ØªØ§Ø±ÛŒØ® Ùˆ Ø³Ø§Ø¹Øª Ø¨Ù‡ Ø²Ø¨Ø§Ù† Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡
            updateDateTime();
            
            // Ø°Ø®ÛŒØ±Ù‡ Ø²Ø¨Ø§Ù† Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡
            localStorage.setItem('mirapp-language', lang);
        }
        
        // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù…
        function showToast(message) {
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                bottom: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: var(--accent-teal);
                color: var(--primary-bg);
                padding: 12px 24px;
                border-radius: var(--border-radius-sm);
                font-weight: 600;
                z-index: 9999;
                animation: fadeInOut 3s ease;
            `;
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                document.body.removeChild(toast);
            }, 3000);
        }
        
        // Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ù¾Ù†Ù„
        function openPanel(panelType) {
            // Ø§Ø¨ØªØ¯Ø§ Ù‡Ù…Ù‡ Ù¾Ù†Ù„â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ø±Ø§ Ù¾Ø§Ú© Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
            const existingPanel = document.querySelector('.panel-container');
            if (existingPanel) {
                existingPanel.remove();
            }
            
            // Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ù†Ù„ Ø¬Ø¯ÛŒØ¯
            const panel = document.createElement('div');
            panel.className = 'panel-container';
            panel.id = `${panelType}Panel`;
            
            // Ù…Ø­ØªÙˆØ§ÛŒ Ù¾Ù†Ù„ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†ÙˆØ¹
            let panelContent = '';
            let panelTitle = '';
            
            switch(panelType) {
                case 'report':
                    panelTitle = 'Ù†Ø±Ø® CB Ø±ÙˆØ³ÛŒÙ‡';
                    panelContent = createCBRPanel();
                    break;
                case 'news':
                    panelTitle = 'Ø§Ø®Ø¨Ø§Ø± CB Ø±ÙˆØ³ÛŒÙ‡';
                    panelContent = createNewsPanel();
                    break;
                case 'weather':
                    panelTitle = 'ÙˆØ¶Ø¹ÛŒØª Ø¬ÙˆÛŒ';
                    panelContent = createWeatherPanel();
                    break;
                case 'ai':
                    panelTitle = 'Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ';
                    panelContent = createAIPanel();
                    break;
                case 'translator':
                    panelTitle = 'Ù…ØªØ±Ø¬Ù…';
                    panelContent = createTranslatorPanel();
                    break;
                case 'calculator':
                    panelTitle = 'Ù…Ø§Ø´ÛŒÙ† Ø­Ø³Ø§Ø¨';
                    panelContent = createCalculatorPanel();
                    break;
                case 'contact':
                    panelTitle = 'Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ù…Ø§';
                    panelContent = createContactPanel();
                    break;
                case 'settings':
                    panelTitle = 'ØªÙ†Ø¸ÛŒÙ…Ø§Øª';
                    panelContent = createSettingsPanel();
                    break;
                default:
                    panelTitle = 'Ù¾Ù†Ù„';
                    panelContent = '<p>Ù…Ø­ØªÙˆØ§ÛŒ Ù¾Ù†Ù„</p>';
            }
            
            panel.innerHTML = `
                <div class="panel-header">
                    <button class="back-btn" onclick="closePanel()">
                        <span class="icon">â†</span>
                        ${translations[currentLanguage].back}
                    </button>
                    <h2><span class="icon">${getPanelIcon(panelType)}</span> ${panelTitle}</h2>
                </div>
                <div style="padding: 20px;">
                    ${panelContent}
                </div>
            `;
            
            document.querySelector('.app-container').appendChild(panel);
            
            // Ù†Ù…Ø§ÛŒØ´ Ù¾Ù†Ù„ Ùˆ overlay
            setTimeout(() => {
                panel.classList.add('active');
                document.getElementById('overlay').classList.add('active');
            }, 10);
            
            currentPanel = panelType;
        }
        
        // Ø¨Ø³ØªÙ† Ù¾Ù†Ù„
        function closePanel() {
            const panel = document.querySelector('.panel-container');
            if (panel) {
                panel.classList.remove('active');
                setTimeout(() => {
                    panel.remove();
                }, 400);
            }
            document.getElementById('overlay').classList.remove('active');
            currentPanel = null;
        }
        
        // Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ù†Ù„ CBR
        function createCBRPanel() {
            const today = new Date();
            const yesterday = new Date(today);
            yesterday.setDate(yesterday.getDate() - 1);
            
            return `
                <div style="color: var(--text-secondary); margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    <span class="icon">ğŸ“…</span>
                    <span>${today.toLocaleDateString('fa-IR', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}</span>
                </div>
                
                <div style="background: var(--card-bg); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 20px; margin-bottom: 20px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <div style="font-size: 1.1rem; color: var(--gold-text); display: flex; align-items: center; gap: 10px;">
                            <span class="icon">ğŸ“Š</span>
                            <span>Ù†Ø±Ø® Ú©Ù„ÛŒØ¯ÛŒ Ø¨Ø§Ù†Ú© Ù…Ø±Ú©Ø²ÛŒ</span>
                        </div>
                        <div style="color: var(--text-secondary); font-size: 0.9rem;">${today.toLocaleDateString('fa-IR')}</div>
                    </div>
                    <div style="font-size: 2rem; font-weight: 700; color: var(--accent-teal); margin: 10px 0;">Û±Û¶Ù«Û°Û°Ùª</div>
                    <div style="color: var(--text-secondary); display: flex; align-items: center; gap: 8px;">
                        <span class="icon">â„¹ï¸</span>
                        Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ± Ø§Ø² Ø¬Ù„Ø³Ù‡ Ù‚Ø¨Ù„ÛŒ
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr; gap: 15px; margin-top: 20px;">
                    <div style="background: rgba(255, 255, 255, 0.05); border-radius: var(--border-radius-sm); padding: 15px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <div style="display: flex; align-items: center; gap: 10px; color: var(--text-secondary);">
                                <span class="icon">ğŸ’µ</span>
                                <span>Ø¯Ù„Ø§Ø± Ø¢Ù…Ø±ÛŒÚ©Ø§ (USD/RUB)</span>
                            </div>
                        </div>
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--gold-text); direction: ltr; margin: 5px 0;">Û¸ÛµÙ«Û´Û² â‚½</div>
                        <div style="color: #4ade80; font-size: 0.9rem; display: flex; align-items: center; gap: 5px;">
                            <span class="icon">â¬†ï¸</span>
                            ØªØºÛŒÛŒØ±: +Û°Ù«Û³Û² â‚½
                        </div>
                    </div>
                    
                    <div style="background: rgba(255, 255, 255, 0.05); border-radius: var(--border-radius-sm); padding: 15px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <div style="display: flex; align-items: center; gap: 10px; color: var(--text-secondary);">
                                <span class="icon">ğŸ’¶</span>
                                <span>ÛŒÙˆØ±Ùˆ Ø§ØªØ­Ø§Ø¯ÛŒÙ‡ Ø§Ø±ÙˆÙ¾Ø§ (EUR/RUB)</span>
                            </div>
                        </div>
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--gold-text); direction: ltr; margin: 5px 0;">Û¹Û²Ù«Û±Ûµ â‚½</div>
                        <div style="color: #f87171; font-size: 0.9rem; display: flex; align-items: center; gap: 5px;">
                            <span class="icon">â¬‡ï¸</span>
                            ØªØºÛŒÛŒØ±: -Û°Ù«Û±Û¸ â‚½
                        </div>
                    </div>
                </div>
            `;
        }
        
        // Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ù†Ù„ Ø§Ø®Ø¨Ø§Ø±
        function createNewsPanel() {
            return `
                <div style="display: grid; gap: 20px;">
                    <div style="background: var(--card-bg); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 25px;">
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px;">
                            <h3 style="font-size: 1.2rem; color: var(--gold-text); flex: 1;">Ø¨Ø§Ù†Ú© Ù…Ø±Ú©Ø²ÛŒ Ù†Ø±Ø® Ú©Ù„ÛŒØ¯ÛŒ Ø±Ø§ Ø¯Ø± Ø³Ø·Ø­ Û±Û¶Ùª Ø­ÙØ¸ Ú©Ø±Ø¯</h3>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Û±Û´ Ú˜Ø§Ù†ÙˆÛŒÙ‡ Û²Û°Û²Û¶</div>
                        </div>
                        <div style="color: var(--text-secondary); line-height: 1.8; margin-bottom: 15px;">
                            <p>Ø¨Ø§Ù†Ú© Ù…Ø±Ú©Ø²ÛŒ Ø±ÙˆØ³ÛŒÙ‡ Ø¯Ø± Ø¬Ù„Ø³Ù‡ Ø§Ù…Ø±ÙˆØ² Ø®ÙˆØ¯ ØªØµÙ…ÛŒÙ… Ú¯Ø±ÙØª Ù†Ø±Ø® Ú©Ù„ÛŒØ¯ÛŒ Ø±Ø§ Ø¯Ø± Ø³Ø·Ø­ Û±Û¶Ùª Ø­ÙØ¸ Ú©Ù†Ø¯.</p>
                        </div>
                    </div>
                    
                    <div style="background: var(--card-bg); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 25px;">
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px;">
                            <h3 style="font-size: 1.2rem; color: var(--gold-text); flex: 1;">Ø±Ø´Ø¯ Ø§Ù‚ØªØµØ§Ø¯ÛŒ Ø±ÙˆØ³ÛŒÙ‡ Ø¯Ø± Ø³Ø§Ù„ Û²Û°Û²Ûµ Ù…Ø«Ø¨Øª Ø¨ÙˆØ¯</h3>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Û±Û³ Ú˜Ø§Ù†ÙˆÛŒÙ‡ Û²Û°Û²Û¶</div>
                        </div>
                        <div style="color: var(--text-secondary); line-height: 1.8; margin-bottom: 15px;">
                            <p>Ø§Ù‚ØªØµØ§Ø¯ Ø±ÙˆØ³ÛŒÙ‡ Ø¯Ø± Ø³Ø§Ù„ Û²Û°Û²Ûµ Ø±Ø´Ø¯ Û²Ù«Û´Ùª Ø±Ø§ ØªØ¬Ø±Ø¨Ù‡ Ú©Ø±Ø¯.</p>
                        </div>
                    </div>
                </div>
            `;
        }
        
        // Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ù†Ù„ ÙˆØ¶Ø¹ÛŒØª Ù‡ÙˆØ§
        function createWeatherPanel() {
            return `
                <div style="background: var(--card-bg); border: 1px solid var(--card-border); border-radius: var(--border-radius); padding: 30px; margin-bottom: 25px;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <h3 style="font-size: 1.5rem; color: var(--gold-text); margin-bottom: 10px;">Ù…Ø³Ú©Ùˆ</h3>
                            <div style="font-size: 3.5rem; font-weight: 700; color: var(--accent-teal);">-Û²Â°C</div>
                            <p style="color: var(--text-secondary); font-size: 1.1rem; margin-top: 5px;">Ø¨Ø±ÙÛŒ</p>
                            <p style="color: var(--text-secondary);">Ø§Ø­Ø³Ø§Ø³: -ÛµÂ°C</p>
                        </div>
                        <div style="font-size: 5rem;">â„ï¸</div>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                    <div style="background: rgba(255, 255, 255, 0.05); border-radius: var(--border-radius-sm); padding: 20px; text-align: center;">
                        <div style="font-size: 1.8rem; color: var(--accent-teal); margin-bottom: 10px;">ğŸ’§</div>
                        <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 5px;">Ø±Ø·ÙˆØ¨Øª</p>
                        <h4 style="font-size: 1.2rem;">Û¸ÛµÙª</h4>
                    </div>
                    
                    <div style="background: rgba(255, 255, 255, 0.05); border-radius: var(--border-radius-sm); padding: 20px; text-align: center;">
                        <div style="font-size: 1.8rem; color: var(--accent-teal); margin-bottom: 10px;">ğŸ’¨</div>
                        <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 5px;">Ø³Ø±Ø¹Øª Ø¨Ø§Ø¯</p>
                        <h4 style="font-size: 1.2rem;">Û±Û² km/h</h4>
                    </div>
                </div>
            `;
        }
        
        // Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ù†Ù„ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ
        function createAIPanel() {
            return `
                <div style="margin-bottom: 20px;">
                    <p style="color: var(--text-secondary);">Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ DeepSeek Ø¨Ø±Ø§ÛŒ Ù¾Ø§Ø³Ø®Ú¯ÙˆÛŒÛŒ Ø¨Ù‡ Ø³ÙˆØ§Ù„Ø§Øª Ø´Ù…Ø§ Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª.</p>
                </div>
                
                <div style="background: var(--card-bg); border: 1px solid var(--card-border); border-radius: var(--border-radius); padding: 20px; height: 300px; display: flex; flex-direction: column;">
                    <div id="aiChat" style="flex: 1; overflow-y: auto; margin-bottom: 20px; padding: 10px;">
                        <div style="background: rgba(45, 212, 191, 0.2); border-radius: var(--border-radius-sm); padding: 10px 15px; margin-bottom: 10px; text-align: left;">
                            <p>Ø³Ù„Ø§Ù…! Ù…Ù† DeepSeek Ù‡Ø³ØªÙ…ØŒ Ú†Ø·ÙˆØ± Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… Ú©Ù…Ú©â€ŒØªØ§Ù† Ú©Ù†Ù…ØŸ</p>
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 10px;">
                        <input type="text" id="aiInput" placeholder="Ø³ÙˆØ§Ù„ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯..." style="flex: 1; background: rgba(255, 255, 255, 0.1); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 12px; color: var(--text-primary);">
                        <button onclick="sendAIMessage()" style="background: var(--accent-teal); color: var(--primary-bg); border: none; border-radius: var(--border-radius-sm); padding: 0 20px; font-weight: 600; cursor: pointer;">Ø§Ø±Ø³Ø§Ù„</button>
                    </div>
                </div>
            `;
        }
        
        // Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ù†Ù„ Ù…ØªØ±Ø¬Ù…
        function createTranslatorPanel() {
            return `
                <div style="margin-bottom: 20px;">
                    <p style="color: var(--text-secondary);">Ù…ØªÙ† Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ Ùˆ Ø²Ø¨Ø§Ù† Ù…Ù‚ØµØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ù…Ø§ÛŒÛŒØ¯.</p>
                </div>
                
                <div style="background: var(--card-bg); border: 1px solid var(--card-border); border-radius: var(--border-radius); padding: 25px;">
                    <textarea id="translateInput" placeholder="Ù…ØªÙ† Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø¨Ø±Ø§ÛŒ ØªØ±Ø¬Ù…Ù‡ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯..." rows="5" style="width: 100%; background: rgba(255, 255, 255, 0.1); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 15px; color: var(--text-primary); margin-bottom: 20px; resize: vertical;"></textarea>
                    
                    <div style="display: flex; gap: 20px; margin-bottom: 20px; flex-wrap: wrap;">
                        <div style="flex: 1; min-width: 150px;">
                            <label style="display: block; color: var(--text-secondary); margin-bottom: 8px;">Ø²Ø¨Ø§Ù† Ù…Ù‚ØµØ¯:</label>
                            <select id="targetLang" style="width: 100%; background: rgba(255, 255, 255, 0.1); color: var(--text-primary); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 10px; cursor: pointer;">
                                <option value="fa">ÙØ§Ø±Ø³ÛŒ</option>
                                <option value="en">English</option>
                                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                            </select>
                        </div>
                    </div>
                    
                    <button onclick="translateText()" style="background: linear-gradient(45deg, var(--accent-teal), var(--accent-teal-light)); color: var(--primary-bg); border: none; border-radius: var(--border-radius-sm); padding: 15px 30px; font-size: 1.1rem; font-weight: 600; cursor: pointer; width: 100%;">ØªØ±Ø¬Ù…Ù‡</button>
                    
                    <div id="translationResult" style="margin-top: 25px; padding: 20px; background: rgba(255, 255, 255, 0.05); border-radius: var(--border-radius-sm); min-height: 100px;">
                        <p style="color: var(--text-secondary);">Ù†ØªÛŒØ¬Ù‡ ØªØ±Ø¬Ù…Ù‡ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯...</p>
                    </div>
                </div>
            `;
        }
        
        // Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ù†Ù„ Ù…Ø§Ø´ÛŒÙ† Ø­Ø³Ø§Ø¨
        function createCalculatorPanel() {
            return `
                <div style="background: var(--card-bg); border: 1px solid var(--card-border); border-radius: var(--border-radius); padding: 25px;">
                    <div style="background: rgba(255, 255, 255, 0.1); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 20px; margin-bottom: 20px;">
                        <input type="text" id="calcDisplay" readonly value="0" style="width: 100%; background: none; border: none; color: var(--text-primary); font-size: 1.5rem; text-align: left; direction: ltr; font-family: monospace;">
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;">
                        <button onclick="calcInput('clear')" style="background: rgba(239, 68, 68, 0.2); color: #fecaca; border: 1px solid #f87171; border-radius: var(--border-radius-sm); padding: 15px; font-size: 1.2rem; cursor: pointer;">C</button>
                        <button onclick="calcInput('backspace')" style="background: rgba(255, 255, 255, 0.1); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 15px; font-size: 1.2rem; cursor: pointer;">âŒ«</button>
                        <button onclick="calcInput('%')" style="background: rgba(255, 255, 255, 0.1); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 15px; font-size: 1.2rem; cursor: pointer;">%</button>
                        <button onclick="calcInput('/')" style="background: rgba(255, 255, 255, 0.1); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 15px; font-size: 1.2rem; cursor: pointer;">Ã·</button>
                        
                        <button onclick="calcInput('7')" style="background: rgba(255, 255, 255, 0.1); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 15px; font-size: 1.2rem; cursor: pointer;">7</button>
                        <button onclick="calcInput('8')" style="background: rgba(255, 255, 255, 0.1); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 15px; font-size: 1.2rem; cursor: pointer;">8</button>
                        <button onclick="calcInput('9')" style="background: rgba(255, 255, 255, 0.1); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 15px; font-size: 1.2rem; cursor: pointer;">9</button>
                        <button onclick="calcInput('*')" style="background: rgba(255, 255, 255, 0.1); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 15px; font-size: 1.2rem; cursor: pointer;">Ã—</button>
                        
                        <button onclick="calcInput('4')" style="background: rgba(255, 255, 255, 0.1); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 15px; font-size: 1.2rem; cursor: pointer;">4</button>
                        <button onclick="calcInput('5')" style="background: rgba(255, 255, 255, 0.1); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 15px; font-size: 1.2rem; cursor: pointer;">5</button>
                        <button onclick="calcInput('6')" style="background: rgba(255, 255, 255, 0.1); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 15px; font-size: 1.2rem; cursor: pointer;">6</button>
                        <button onclick="calcInput('-')" style="background: rgba(255, 255, 255, 0.1); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 15px; font-size: 1.2rem; cursor: pointer;">-</button>
                        
                        <button onclick="calcInput('1')" style="background: rgba(255, 255, 255, 0.1); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 15px; font-size: 1.2rem; cursor: pointer;">1</button>
                        <button onclick="calcInput('2')" style="background: rgba(255, 255, 255, 0.1); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 15px; font-size: 1.2rem; cursor: pointer;">2</button>
                        <button onclick="calcInput('3')" style="background: rgba(255, 255, 255, 0.1); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 15px; font-size: 1.2rem; cursor: pointer;">3</button>
                        <button onclick="calcInput('+')" style="background: rgba(255, 255, 255, 0.1); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 15px; font-size: 1.2rem; cursor: pointer;">+</button>
                        
                        <button onclick="calcInput('0')" style="grid-column: span 2; background: rgba(255, 255, 255, 0.1); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 15px; font-size: 1.2rem; cursor: pointer;">0</button>
                        <button onclick="calcInput('.')" style="background: rgba(255, 255, 255, 0.1); border: 1px solid var(--card-border); border-radius: var(--border-radius-sm); padding: 15px; font-size: 1.2rem; cursor: pointer;">.</button>
                        <button onclick="calcInput('=')" style="background: var(--accent-teal); color: var(--primary-bg); border: none; border-radius: var(--border-radius-sm); padding: 15px; font-size: 1.2rem; cursor: pointer;">=</button>
                    </div>
                </div>
            `;
        }
        
        // Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ù†Ù„ Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ù…Ø§
        function createContactPanel() {
            return `
                <div style="display: grid; gap: 15px;">
                    <a href="tel:+78005000751" style="display: flex; align-items: center; gap: 15px; padding: 20px; background: var(--card-bg); border-radius: var(--border-radius-sm); text-decoration: none; color: white;">
                        <span class="icon" style="font-size: 1.5rem;">ğŸ“</span>
                        <div>
                            <div style="font-weight: bold; margin-bottom: 5px;">ØªÙ…Ø§Ø³ Ø¨Ø§ Ú©Ø§Ø±Ø´Ù†Ø§Ø³Ø§Ù†</div>
                            <div style="direction: ltr; font-family: monospace;">+7 800 500-07-51</div>
                        </div>
                    </a>
                    
                    <a href="mailto:info@mbbru.ru" style="display: flex; align-items: center; gap: 15px; padding: 20px; background: var(--card-bg); border-radius: var(--border-radius-sm); text-decoration: none; color: white;">
                        <span class="icon" style="font-size: 1.5rem;">âœ‰ï¸</span>
                        <div>
                            <div style="font-weight: bold; margin-bottom: 5px;">Ø§Ø±Ø³Ø§Ù„ Ø§ÛŒÙ…ÛŒÙ„</div>
                            <div style="direction: ltr; font-family: monospace;">info@mbbru.ru</div>
                        </div>
                    </a>
                    
                    <a href="https://t.me/mbbru_ru" target="_blank" style="display: flex; align-items: center; gap: 15px; padding: 20px; background: var(--card-bg); border-radius: var(--border-radius-sm); text-decoration: none; color: white;">
                        <span class="icon" style="font-size: 1.5rem;">ğŸ“±</span>
                        <div>
                            <div style="font-weight: bold; margin-bottom: 5px;">Ú©Ø§Ù†Ø§Ù„ ØªÙ„Ú¯Ø±Ø§Ù… Ø¨Ø§Ù†Ú©</div>
                            <div style="direction: ltr; font-family: monospace;">@mbbru_ru</div>
                        </div>
                    </a>
                </div>
            `;
        }
        
        // Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ù†Ù„ ØªÙ†Ø¸ÛŒÙ…Ø§Øª
        function createSettingsPanel() {
            return `
                <div style="background: var(--card-bg); border: 1px solid var(--card-border); border-radius: var(--border-radius); padding: 30px; margin-bottom: 25px;">
                    <h3 style="color: var(--gold-text); font-size: 1.4rem; margin-bottom: 20px; display: flex; align-items: center; gap: 15px;">
                        <span class="icon">â„¹ï¸</span>
                        Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø¨Ø±Ù†Ø§Ù…Ù‡
                    </h3>
                    
                    <div style="color: var(--text-secondary); margin-bottom: 15px;">
                        <strong>ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡:</strong> Adb
                    </div>
                    <div style="color: var(--text-secondary); margin-bottom: 15px;">
                        <strong>Ù†Ø³Ø®Ù‡:</strong> 0326
                    </div>
                    <div style="color: var(--text-secondary); margin-bottom: 15px;">
                        <strong>Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ:</strong> Û±Û´ Ú˜Ø§Ù†ÙˆÛŒÙ‡ Û²Û°Û²Û¶
                    </div>
                </div>
                
                <div style="display: flex; gap: 20px; flex-wrap: wrap;">
                    <button onclick="clearCache()" style="flex: 1; min-width: 150px; background: rgba(239, 68, 68, 0.2); color: #fecaca; border: 1px solid #f87171; border-radius: var(--border-radius-sm); padding: 15px; font-weight: 600; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px;">
                        <span class="icon">ğŸ—‘ï¸</span>
                        Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ø­Ø§ÙØ¸Ù‡ Ù…ÙˆÙ‚Øª
                    </button>
                    
                    <button onclick="refreshAllData()" style="flex: 1; min-width: 150px; background: linear-gradient(45deg, var(--accent-teal), var(--accent-teal-light)); color: var(--primary-bg); border: none; border-radius: var(--border-radius-sm); padding: 15px; font-weight: 600; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px;">
                        <span class="icon">ğŸ”„</span>
                        Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù‡Ù…Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§
                    </button>
                </div>
            `;
        }
        
        // Ú¯Ø±ÙØªÙ† Ø¢ÛŒÚ©ÙˆÙ† Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ Ù¾Ù†Ù„
        function getPanelIcon(panelType) {
            const icons = {
                'report': 'ğŸ“ˆ',
                'news': 'ğŸ“°',
                'weather': 'ğŸŒ¤ï¸',
                'ai': 'ğŸ¤–',
                'translator': 'ğŸŒ',
                'calculator': 'ğŸ§®',
                'contact': 'ğŸ“',
                'settings': 'âš™ï¸'
            };
            return icons[panelType] || 'ğŸ“„';
        }
        
        // ===== ØªÙˆØ§Ø¨Ø¹ Ú©Ù…Ú©ÛŒ =====
        
        // Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø¨Ù‡ AI
        function sendAIMessage() {
            const input = document.getElementById('aiInput');
            const chat = document.getElementById('aiChat');
            
            if (!input || !chat || !input.value.trim()) return;
            
            // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù¾ÛŒØ§Ù… Ú©Ø§Ø±Ø¨Ø±
            const userMsg = document.createElement('div');
            userMsg.style.cssText = 'background: rgba(45, 212, 191, 0.1); border-radius: var(--border-radius-sm); padding: 10px 15px; margin-bottom: 10px; text-align: right;';
            userMsg.innerHTML = `<p>${input.value}</p>`;
            chat.appendChild(userMsg);
            
            // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† ÙÛŒÙ„Ø¯ ÙˆØ±ÙˆØ¯ÛŒ
            const userQuestion = input.value;
            input.value = '';
            
            // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ù¾Ø§Ø³Ø® AI
            setTimeout(() => {
                const botMsg = document.createElement('div');
                botMsg.style.cssText = 'background: rgba(45, 212, 191, 0.2); border-radius: var(--border-radius-sm); padding: 10px 15px; margin-bottom: 10px; text-align: left;';
                
                let response = "Ù…ØªÙˆØ¬Ù‡ Ø³ÙˆØ§Ù„ Ø´Ù…Ø§ Ø´Ø¯Ù…. Ø§ÛŒÙ† ÛŒÚ© Ù†Ø³Ø®Ù‡ Ù†Ù…Ø§ÛŒØ´ÛŒ Ø§Ø³Øª.";
                
                if (userQuestion.includes('Ø¯Ù„Ø§Ø±') || userQuestion.includes('Ù†Ø±Ø®')) {
                    response = "Ù†Ø±Ø® Ø¯Ù„Ø§Ø± Ø§Ù…Ø±ÙˆØ²: Û¸ÛµÙ«Û´Û² Ø±ÙˆØ¨Ù„ (Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¢Ø®Ø±ÛŒÙ† Ø§Ø·Ù„Ø§Ø¹Ø§Øª CBR)";
                } else if (userQuestion.includes('Ø³Ù„Ø§Ù…')) {
                    response = "Ø³Ù„Ø§Ù…! Ù…Ù† DeepSeek Ù‡Ø³ØªÙ…. Ú†Ø·ÙˆØ± Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… Ú©Ù…Ú©â€ŒØªØ§Ù† Ú©Ù†Ù…ØŸ";
                }
                
                botMsg.innerHTML = `<p>${response}</p>`;
                chat.appendChild(botMsg);
                
                // Ø§Ø³Ú©Ø±ÙˆÙ„ Ø¨Ù‡ Ù¾Ø§ÛŒÛŒÙ†
                chat.scrollTop = chat.scrollHeight;
            }, 1000);
        }
        
        // ØªØ±Ø¬Ù…Ù‡ Ù…ØªÙ†
        function translateText() {
            const input = document.getElementById('translateInput');
            const targetLang = document.getElementById('targetLang');
            const resultDiv = document.getElementById('translationResult');
            
            if (!input || !targetLang || !resultDiv) return;
            
            const text = input.value.trim();
            if (!text) {
                resultDiv.innerHTML = '<p style="color: var(--text-secondary);">Ù„Ø·ÙØ§Ù‹ Ù…ØªÙ†ÛŒ Ø¨Ø±Ø§ÛŒ ØªØ±Ø¬Ù…Ù‡ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.</p>';
                return;
            }
            
            // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ØªØ±Ø¬Ù…Ù‡
            resultDiv.innerHTML = `
                <div style="color: var(--gold-text); margin-bottom: 10px;">ØªØ±Ø¬Ù…Ù‡ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡:</div>
                <div style="color: var(--text-primary); margin-bottom: 10px;">${text} (Ø¨Ù‡ ${targetLang.value === 'fa' ? 'ÙØ§Ø±Ø³ÛŒ' : targetLang.value === 'en' ? 'Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ' : 'Ø±ÙˆØ³ÛŒ'})</div>
                <div style="color: var(--text-secondary); font-size: 0.9rem;">Ø¯Ø± Ù†Ø³Ø®Ù‡ Ú©Ø§Ù…Ù„ Ø¨Ø§ Ø³Ø±ÙˆÛŒØ³ ØªØ±Ø¬Ù…Ù‡ Ø§Ø¯ØºØ§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯.</div>
            `;
        }
        
        // Ù…Ø§Ø´ÛŒÙ† Ø­Ø³Ø§Ø¨
        let calcValue = '0';
        let calcOperator = '';
        let calcPrevValue = '';
        
        function calcInput(key) {
            const display = document.getElementById('calcDisplay');
            if (!display) return;
            
            if (key === 'clear') {
                calcValue = '0';
                calcOperator = '';
                calcPrevValue = '';
            } else if (key === 'backspace') {
                calcValue = calcValue.length > 1 ? calcValue.slice(0, -1) : '0';
            } else if (key === '=') {
                if (calcOperator && calcPrevValue) {
                    const prev = parseFloat(calcPrevValue);
                    const current = parseFloat(calcValue);
                    let result;
                    
                    switch(calcOperator) {
                        case '+': result = prev + current; break;
                        case '-': result = prev - current; break;
                        case '*': result = prev * current; break;
                        case '/': result = current !== 0 ? prev / current : 'Ø®Ø·Ø§'; break;
                        default: result = calcValue;
                    }
                    
                    calcValue = result.toString();
                    calcOperator = '';
                    calcPrevValue = '';
                }
            } else if (['+', '-', '*', '/'].includes(key)) {
                if (calcValue !== '0') {
                    calcOperator = key;
                    calcPrevValue = calcValue;
                    calcValue = '0';
                }
            } else {
                if (calcValue === '0' || calcValue === 'Ø®Ø·Ø§') {
                    calcValue = key;
                } else {
                    calcValue += key;
                }
            }
            
            display.value = calcValue;
        }
        
        // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ú©Ø´
        function clearCache() {
            localStorage.clear();
            showToast('Ø­Ø§ÙØ¸Ù‡ Ù…ÙˆÙ‚Øª Ù¾Ø§Ú© Ø´Ø¯!');
        }
        
        // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù‡Ù…Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§
        function refreshAllData() {
            showToast('Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ...');
            // Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ APIâ€ŒÙ‡Ø§ Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒØ¯
        }
        
        // ===== Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡ =====
        function initApp() {
            console.log('MirApp Ø¯Ø± Ø­Ø§Ù„ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ...');
            
            // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ØªØ§Ø±ÛŒØ® Ùˆ Ø²Ù…Ø§Ù†
            updateDateTime();
            setInterval(updateDateTime, 1000);
            
            // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø²Ø¨Ø§Ù† Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡
            const savedLang = localStorage.getItem('mirapp-language') || 'fa';
            document.getElementById('languageSelect').value = savedLang;
            currentLanguage = savedLang;
            
            // ØªÙ†Ø¸ÛŒÙ… Ø±ÙˆÛŒØ¯Ø§Ø¯ Ø¨Ø±Ø§ÛŒ ØªØºÛŒÛŒØ± Ø²Ø¨Ø§Ù†
            document.getElementById('languageSelect').addEventListener('change', function(e) {
                changeLanguage(e.target.value);
                showToast(`Ø²Ø¨Ø§Ù† Ø¨Ù‡ ${e.target.value === 'fa' ? 'ÙØ§Ø±Ø³ÛŒ' : e.target.value === 'en' ? 'Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ' : 'Ø±ÙˆØ³ÛŒ'} ØªØºÛŒÛŒØ± Ú©Ø±Ø¯`);
            });
            
            // ØªÙ†Ø¸ÛŒÙ… Ø±ÙˆÛŒØ¯Ø§Ø¯ Ø¨Ø±Ø§ÛŒ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§
            document.getElementById('reportBtn').addEventListener('click', () => openPanel('report'));
            document.getElementById('newsBtn').addEventListener('click', () => openPanel('news'));
            document.getElementById('weatherBtn').addEventListener('click', () => openPanel('weather'));
            document.getElementById('aiBtn').addEventListener('click', () => openPanel('ai'));
            document.getElementById('translatorBtn').addEventListener('click', () => openPanel('translator'));
            document.getElementById('calculatorBtn').addEventListener('click', () => openPanel('calculator'));
            document.getElementById('contactBtn').addEventListener('click', () => openPanel('contact'));
            document.getElementById('settingsBtn').addEventListener('click', () => openPanel('settings'));
            
            // ØªÙ†Ø¸ÛŒÙ… Ø±ÙˆÛŒØ¯Ø§Ø¯ Ø¨Ø±Ø§ÛŒ overlay
            document.getElementById('overlay').addEventListener('click', closePanel);
            
            // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ù…Ø§ÛŒ Ù‡ÙˆØ§
            setInterval(() => {
                const tempElement = document.getElementById('currentTemp');
                if (tempElement) {
                    // Ø¯Ù…Ø§ÛŒ ØªØµØ§Ø¯ÙÛŒ Ø¨ÛŒÙ† -Ûµ ØªØ§ Û°
                    const temp = Math.floor(Math.random() * 6) - 5;
                    tempElement.textContent = `${temp}Â°C`;
                }
            }, 30000);
            
            // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§Ø³ØªØ§ÛŒÙ„ Ø¨Ø±Ø§ÛŒ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† toast
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fadeInOut {
                    0% { opacity: 0; transform: translateX(-50%) translateY(20px); }
                    15% { opacity: 1; transform: translateX(-50%) translateY(0); }
                    85% { opacity: 1; transform: translateX(-50%) translateY(0); }
                    100% { opacity: 0; transform: translateX(-50%) translateY(-20px); }
                }
            `;
            document.head.appendChild(style);
            
            console.log('MirApp Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø´Ø¯!');
        }
        
        // Ø´Ø±ÙˆØ¹ Ø¨Ø±Ù†Ø§Ù…Ù‡ ÙˆÙ‚ØªÛŒ ØµÙØ­Ù‡ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯
        document.addEventListener('DOMContentLoaded', initApp);
        
        // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† ØªÙˆØ§Ø¨Ø¹ Ø¨Ù‡ window Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø§Ø² HTML
        window.openPanel = openPanel;
        window.closePanel = closePanel;
        window.sendAIMessage = sendAIMessage;
        window.translateText = translateText;
        window.calcInput = calcInput;
        window.clearCache = clearCache;
        window.refreshAllData = refreshAllData;
    </script>
</body>
</html>
